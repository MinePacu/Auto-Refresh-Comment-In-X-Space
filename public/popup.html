<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Chrome Extension</title>
    <link rel="stylesheet" href="popup.css" />
</head>
<body>
  <div class="app">
    <!-- 마스터 버튼 컨테이너 -->
    <div class="master-container">
      <p class="counter-label">마스터 버튼</p>
      <button id="masterToggleBtn" class="button">ON</button>
      
      <!-- 실시간 상태 표시를 마스터 버튼 바로 아래로 이동 -->
      <div class="status-indicator-container">
        <span id="statusText" class="status-text">상태: 알 수 없음</span>
        <div id="loadingSpinner" class="loading-spinner" style="display: none;"></div>
      </div>
    </div>

    <hr class="divider" />

    <!-- 기능 컨테이너 -->
    <div class="feature-container">      <div class="setting-group">
        <h3 class="setting-title">새로고침 주기</h3>
        <p class="setting-description">답글 목록을 얼마나 자주 새로고침할지 설정합니다 (초 단위). X Rate Limit 정책에 따라 최소 8초 이상이어야 합니다.</p>
        <div class="refresh-interval-setting" style="margin-bottom: 10px;">
          <label for="refreshInterval">주기(초):</label>
          <input type="number" id="refreshInterval" min="8" max="3600" value="10" style="width:60px;" title="최소 8초 (X Rate Limit: 150 requests/15min)" />
          <button id="applyRefreshIntervalBtn" class="button" style="margin-left: 5px; padding: 5px 10px; font-size: 12px;">적용</button>
        </div>
      </div>
    </div>
    <!-- 설정 컨테이너 -->
    <div class="settings-container feature-container">
      <div class="setting-group">
        <h3 class="setting-title">클릭 간 대기 시간</h3>
        <p class="setting-description">'답글 설정' 버튼 클릭 후 '최신순 정렬' 버튼을 누르기 전까지의 대기 시간입니다 (밀리초 단위).</p>        <div class="click-delay-setting" style="margin-bottom: 10px;">
          <label for="clickDelay">대기시간(ms):</label>
          <input type="number" id="clickDelay" min="1" max="10000" value="700" style="width:60px;" title="최소 5ms" />
          <button id="applyClickDelayBtn" class="button" style="margin-left: 5px; padding: 5px 10px; font-size: 12px;">적용</button>
        </div>
      </div>
    </div> <!-- 이 div가 원래 .app의 닫는 태그였습니다. -->

    <hr class="divider" />    <!-- 다크 모드 설정 컨테이너 -->
    <div class="feature-container">
      <div class="setting-group">
        <h3 class="setting-title">테마 설정</h3>
        <p class="setting-description">팝업 UI의 테마를 선택합니다.</p>
        <div class="theme-setting" style="margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between;">
          <label for="themeSelector">테마:</label>
          <select id="themeSelector" style="flex-grow: 1; margin-left: 8px; padding: 5px;">
            <option value="light">라이트</option>
            <option value="dark">다크</option>
          </select>
        </div>
      </div>
    </div>

    <hr class="divider" />

    <!-- 개발자 옵션 컨테이너 -->
    <div class="feature-container">
      <div class="setting-group">
        <div class="developer-options-header" style="cursor: pointer; user-select: none;">
          <h3 class="setting-title">🔧 개발자 옵션 <span id="devOptionsToggleIcon">▶</span></h3>
          <p class="setting-description">개발자용 고급 설정입니다. 클릭하여 펼치기/접기</p>
        </div>
        <div id="developerOptionsContent" class="developer-options-content" style="display: none; margin-top: 8px;">
          <div class="setting-group">
            <h4 class="setting-title" style="font-size: 13px;">콘솔 로그 출력</h4>
            <p class="setting-description">확장 프로그램의 디버그 로그를 브라우저 콘솔에 출력합니다.</p>
            <div class="debug-log-setting" style="margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between;">
              <label for="debugLogToggle">콘솔 로그:</label>
              <button id="debugLogToggle" class="button" style="padding: 5px 10px; font-size: 12px;">OFF</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- 크레딧 정보 -->
    <hr class="divider" />
    <div class="credits-container">
      <p class="credits-text">Auto Refresh Comment In X Space<br>
      <a href="#" id="github-link" class="github-link">GitHub 페이지로 이동</a><br>
      <span class="version-text">버전 1.0.0</span><br>
      <span class="author-text">Made by 마인파쿠 (MinePacu)</span>
      </p>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>