# <img src="public/icons/icon_48.png" width="45" align="left"> Auto Refresh Comment In X Space

X (구 트위터) 스페이스 댓글을 자동으로 최신순으로 정렬해주는 Chrome 확장 프로그램입니다.

## 🌟 핵심 기능

### 🔄 자동 댓글 정렬
- **스마트 자동화**: X 스페이스의 댓글을 지정된 주기로 자동 최신순 정렬
- **마스터 제어**: ON/OFF 토글로 전체 기능을 간편하게 제어

### ⚙️ 고급 설정
- **새로고침 주기**: 1초~3600초(1시간) 범위에서 정밀 설정 (기본값: 10초)
- **클릭 간 대기시간**: 0ms~10000ms 범위에서 미세 조정 (기본값: 700ms)
- **테마 지원**: 라이트/다크/시스템 설정에 따른 자동 테마 전환
- **설정 동기화**: Chrome 동기화를 통한 모든 기기 간 설정 공유

### 🎯 인텔리전트 감지
- **페이지 감지**: X 스페이스 상세 페이지 자동 인식
- **상태 인식**: 스페이스 청취 상태 실시간 감지
- **조건부 실행**: 모든 조건 충족 시에만 자동 활성화
- **SPA 지원**: 페이지 이동 시 즉시 상태 반영 및 자동 제어

### 🚀 사용자 경험
- **무음 모드**: 마스터 OFF 시 완전한 조용한 상태 유지
- **실시간 피드백**: 상태별 명확한 메시지 표시
- **오류 처리**: 네트워크 오류 및 통신 실패 시 안정적인 fallback

## 🚀 설치 방법

### Chrome 웹스토어에서 설치 (권장)
[**Chrome Extension**](링크_추가_예정)

### 개발자 모드로 설치
1. 이 저장소를 다운로드하거나 클론합니다
2. `npm install`로 의존성을 설치합니다
3. `npm run build`로 확장 프로그램을 빌드합니다
4. Chrome에서 `chrome://extensions` 페이지를 엽니다
5. 개발자 모드를 활성화합니다
6. "압축해제된 확장 프로그램을 로드합니다"를 클릭합니다
7. `build` 폴더를 선택합니다

## 📖 사용법

### 1. 기본 사용
1. **X 접속**: X(트위터)에 로그인하여 접속합니다
2. **스페이스 진입**: 원하는 스페이스의 상세 페이지로 이동합니다
3. **확장 프로그램 실행**: 브라우저 상단의 확장 프로그램 아이콘을 클릭합니다
4. **마스터 활성화**: 팝업에서 **마스터 버튼**을 `ON`으로 설정합니다
5. **자동 정렬 시작**: 모든 조건이 충족되면 댓글이 자동으로 최신순 정렬됩니다

### 2. 상태 메시지 이해하기
- **상태: 활성화됨** + 🔄: 정상 작동 중 (댓글 자동 정렬 실행)
- **상태: 비활성화됨**: 마스터 OFF 상태 (모든 기능 정지)
- **트위터 접속 대기 중**: X 사이트가 아닌 페이지에 있음
- **트윗 상세 페이지 대기 중**: X에는 접속했으나 스페이스 상세 페이지가 아님
- **스페이스 청취 대기 중**: 스페이스 페이지에는 있으나 청취 상태가 아님

### 3. 고급 설정
#### 새로고침 주기 조정
- 값 입력 후 **"적용"** 버튼 클릭
- **권장값**: 10-30초 (네트워크 상황에 따라 조정)
- **주의**: 너무 짧은 주기는 성능에 영향을 줄 수 있음

#### 클릭 간 대기시간 조정
- 값 입력 후 **"적용"** 버튼 클릭
- **권장값**: 500-1000ms (컴퓨터 성능에 따라 조정)
- **용도**: UI 버튼 클릭 사이의 안정적인 대기시간 확보

#### 테마 선택
- **라이트**: 밝은 테마 (기본)
- **다크**: 어두운 테마
- **시스템 설정**: 운영체제 설정에 따라 자동 전환

### 4. 문제 해결
- **기능이 작동하지 않는 경우**: 마스터를 OFF → ON으로 다시 설정
- **상태가 업데이트되지 않는 경우**: 팝업을 닫았다가 다시 열기
- **설정이 저장되지 않는 경우**: Chrome 동기화 설정 확인

## 🛠️ 개발

### 개발 환경 설정
```bash
# 저장소 클론
git clone <repository-url>
cd Auto\ Refresh\ in\ X\ Space

# 의존성 설치
npm install

# 개발 모드 (파일 변경 감지)
npm run watch

# 프로덕션 빌드
npm run build

# 코드 검사
npm run lint
```

### 프로젝트 구조
```
├── src/
│   ├── popup.js          # 팝업 UI 로직 (설정, 상태 표시, 테마)
│   ├── popup.css         # 팝업 스타일 (테마 변수, 반응형)
│   ├── background.js     # 백그라운드 스크립트 (메시지 중계)
│   └── contentScript.js  # 콘텐츠 스크립트 (메인 로직)
├── public/
│   ├── manifest.json     # 확장 프로그램 설정
│   ├── popup.html        # 팝업 HTML
│   └── icons/            # 아이콘 파일들 (16, 32, 48, 128px)
├── config/
│   ├── webpack.common.js # 공통 Webpack 설정
│   ├── webpack.config.js # 프로덕션 설정
│   └── paths.js         # 경로 설정
├── build/                # 빌드된 파일들 (배포용)
└── node_modules/         # 의존성 모듈들
```

### 주요 기술 스택
- **JavaScript (ES6+)**: 메인 로직 구현
- **Chrome Extension Manifest V2**: 확장 프로그램 API
- **Webpack 5**: 모듈 번들링 및 최적화
- **CSS Variables**: 동적 테마 지원
- **Chrome Storage API**: 설정 동기화
- **XPath**: DOM 요소 정확한 선택

### 핵심 구조 설명

#### ContentScript (contentScript.js)
- **주요 역할**: X 스페이스 페이지에서 실제 댓글 정렬 작업 수행
- **감지 기능**: 
  - URL 변경 감지 (SPA 지원)
  - 스페이스 청취 상태 감지
  - 페이지 조건 확인
- **자동화 로직**:
  - 조건 충족 시 자동 시작
  - 반복 정렬 작업 수행
  - 마스터 OFF 시 완전 정지

#### Popup (popup.js + popup.html + popup.css)
- **주요 역할**: 사용자 인터페이스 제공
- **실시간 상태**: 1초마다 상태 업데이트
- **설정 관리**: 모든 설정값 저장/복원
- **테마 시스템**: CSS 변수 기반 다크/라이트 모드

#### Background (background.js)
- **주요 역할**: Popup과 ContentScript 간 메시지 중계
- **통신 처리**: 탭 간 메시지 전달 및 오류 처리
- **초기 설정**: 확장 프로그램 최초 설치 시 기본값 설정

## ⚙️ 설정 옵션

| 설정 | 범위 | 기본값 | 설명 | 권장값 |
|------|------|--------|------|--------|
| **마스터 토글** | ON/OFF | OFF | 전체 기능 활성화/비활성화 | 사용 시 ON |
| **새로고침 주기** | 1-3600초 | 10초 | 댓글 정렬 반복 주기 | 10-30초 |
| **클릭 간 대기시간** | 0-10000ms | 700ms | UI 요소 클릭 사이 지연시간 | 500-1000ms |
| **테마** | 라이트/다크/시스템 | 시스템 | 팝업 UI 테마 설정 | 개인 취향 |

### 설정 상세 설명

#### 새로고침 주기 (Refresh Interval)
- **용도**: 댓글 목록을 다시 최신순으로 정렬하는 주기
- **최소값**: 1초 (매우 빠른 업데이트, 성능 영향 있음)
- **최대값**: 3600초 (1시간, 거의 수동에 가까움)
- **성능 고려사항**:
  - 1-5초: 높은 네트워크 사용량, 빠른 업데이트
  - 10-30초: 균형잡힌 사용량 (권장)
  - 60초 이상: 낮은 사용량, 느린 업데이트

#### 클릭 간 대기시간 (Click Delay)
- **용도**: '답글 설정' 버튼 클릭 후 '최신순 정렬' 버튼 클릭 전 대기시간
- **목적**: UI 렌더링 완료 대기 및 안정적인 클릭 보장
- **조정 기준**:
  - 컴퓨터가 느린 경우: 1000ms 이상
  - 일반적인 경우: 700ms (기본값)
  - 빠른 컴퓨터: 300-500ms

#### 테마 시스템
- **라이트 모드**: 밝은 배경, 어두운 텍스트
- **다크 모드**: 어두운 배경, 밝은 텍스트
- **시스템 설정**: OS의 다크/라이트 모드 설정을 자동으로 따름

## 🚨 주의사항 및 제한사항

### 🎯 작동 조건
- **필수 조건**: X (구 트위터) 스페이스 상세 페이지에서만 작동
- **스페이스 상태**: 실제로 스페이스를 청취하고 있을 때만 자동 실행
- **페이지 감지**: URL 패턴과 DOM 요소를 통한 정확한 페이지 인식

### ⚡ 성능 고려사항
- **새로고침 주기**: 과도하게 짧은 주기(1-5초)는 다음과 같은 영향을 줄 수 있음:
  - 높은 CPU 사용률
  - 네트워크 대역폭 소모
  - 브라우저 응답 속도 저하
- **권장 설정**: 10-30초 주기로 사용하여 성능과 기능의 균형 유지

### 🔧 기술적 제한사항
- **X UI 변경**: X의 인터페이스 업데이트 시 일시적으로 작동하지 않을 수 있음
- **XPath 의존성**: DOM 구조 변경 시 XPath 업데이트 필요
- **네트워크 의존성**: 느린 인터넷 연결 시 클릭 간 대기시간 조정 필요

### 🛡️ 개인정보 및 보안
- **로컬 저장**: 모든 설정은 브라우저 내부에만 저장됨
- **외부 통신 없음**: 확장 프로그램 자체적으로 외부 서버와 통신하지 않음
- **권한 최소화**: 필요한 최소한의 Chrome API만 사용

### 🔍 문제 해결 팁
1. **기능이 멈춘 경우**:
   - 마스터를 OFF → ON으로 토글
   - 페이지 새로고침 후 다시 시도

2. **느린 동작**:
   - 클릭 간 대기시간을 늘려보기 (1000ms 이상)
   - 새로고침 주기를 늘려보기 (30초 이상)

3. **상태가 업데이트되지 않는 경우**:
   - 팝업을 닫았다가 다시 열기
   - Chrome 확장 프로그램 페이지에서 재활성화

## 🤝 기여하기

### 🐛 버그 리포트
버그를 발견하셨나요? 다음 정보를 포함하여 이슈를 등록해주세요:
- 브라우저 버전 (Chrome 버전)
- 확장 프로그램 버전
- 재현 단계
- 예상 결과 vs 실제 결과
- 콘솔 오류 메시지 (있는 경우)

### 💡 기능 제안
새로운 기능 아이디어가 있으시나요?
- 기능 설명
- 사용 사례
- 예상되는 이점
- 구현 복잡도 (선택사항)


## 📄 라이선스

이 프로젝트는 **MIT 라이선스** 하에 배포됩니다. 자세한 내용은 `LICENSE` 파일을 참조하세요.

### MIT 라이선스 주요 내용
- ✅ 상업적 사용 가능
- ✅ 수정 및 배포 자유
- ✅ 개인적 사용 가능
- ✅ 라이선스 및 저작권 고지 필수

## 🙏 크레딧

### 기반 프로젝트
이 프로젝트는 [Chrome Extension CLI](https://github.com/dutiyesh/chrome-extension-cli)를 기반으로 제작되었습니다.

### 사용된 기술
- **Chrome Extension APIs**: 확장 프로그램 핵심 기능
- **Webpack**: 모듈 번들링 및 최적화
- **CSS Variables**: 동적 테마 시스템

## 📞 연락처 및 지원

### 🆘 문제 해결
**문제가 발생하시나요?** 
- 📋 [Issues 페이지](https://github.com/your-repo/issues)에서 문제를 신고해주세요
- 🔍 기존 이슈를 먼저 검색해보세요
- 💬 상세한 정보를 제공해주시면 빠른 해결이 가능합니다

### 📈 업데이트 정보
- 새로운 기능 및 버그 수정 사항은 [Releases](https://github.com/your-repo/releases)에서 확인하세요
- 중요한 업데이트는 확장 프로그램을 통해 자동 알림됩니다

---

<div align="center">
